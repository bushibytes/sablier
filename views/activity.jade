script
  function saveActivity(){
    $.post("/activity", { activity: document.getElementById('activity').value } );
    document.getElementById('activity').value = "";
    $("#grid").data("kendoGrid").dataSource.read(); 
    return false;
  }
  $(document).ready(function(){
    $("#grid").kendoGrid({
      columns: [
        {field:"date", title:"date"},
        {field:"activity", title:"activity"},
        {field:"hours", title:"time spent (h)"}
      ],
      dataSource: {
        transport: {
          read: {
            url: '/activity',
            contentType: 'application/json; charset=utf-8',
            type: 'GET',
            dataType: 'json'
          }
        }
      },
      sortable: {
        mode: "single",
        allowUnsort: false
      }
    });


    $("#customGrid").kendoGrid({
      dataSource: {
        transport: {
          read: {
            url: '/activity',
            contentType: 'application/json; charset=utf-8',
            type: 'GET',
            dataType: 'json'
          }
        }
      },
      rowTemplate: kendo.template($("#rowTemplate").html()),
      sortable: {
        mode: "single",
        allowUnsort: false
      }
    });

  });
script(src="/javascripts/kendo.all.min.js")
h1 Add activity
form(onsubmit="return saveActivity();")
  label
    |What did you work on?:
    input#activity(size=42)
h1 Log
div#grid
table#customGrid
  thead
    tr
      th Date
      th Activity
      th Hours
      th
  tbody
    tr
      td(colspan=3)
script#rowTemplate(type="text/x-kendo-tmpl")
  <tr>
    <td> ${date} </td>
    <td> ${activity} </td>
    <td> ${hours} </td>
    <td> ${_id} </td>
  </tr>
